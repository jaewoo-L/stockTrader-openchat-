(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76ec5ff2"],{"45fc":function(e,s,t){"use strict";var a=t("b1b0"),n=t.n(a);n.a},"8b9e":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"openchat"},[t("h1",[e._v("Open Chat")]),t("ul",{staticClass:"chatbox"},e._l(e.messages,(function(s){return t("li",[t("b",[e._v(e._s(s.username))]),t("p",[e._v(e._s(s.message))])])})),0),t("form",{on:{submit:function(s){return s.preventDefault(),e.sendMessage(s)},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMessage(s)}}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"textarea",attrs:{cols:"40",rows:"5",placeholder:"Message..."},domProps:{value:e.message},on:{input:function(s){s.target.composing||(e.message=s.target.value)}}}),t("input",{staticClass:"btn btn-default btn-lg",attrs:{type:"submit",value:"Send",disabled:""==e.message}})])])},n=[],i=(t("7514"),null),o={data:function(){return{message:"",messages:[],username:"",state:0}},methods:{sendMessage:function(){console.log("asdf"),this.$store.dispatch("sendMessage",this.message),this.message=""},setUsername:function(){this.$store.dispatch("setUsername"),this.username=""}},mounted:function(){var e=this,s=this.$store.getters.user;$((function(){var e=$(".chatbox");setTimeout((function(){e.find("li").each((function(e){$(this).find("b").text()==s&&$(this).addClass("me"),$(this).addClass("visible")})),e.stop().animate({scrollTop:e.prop("scrollHeight")+"px"},100)}),400)})),i.on("message1",(function(t){e.messages.push(t),e.$nextTick((function(){this.$http.put("/api/chat/save",{name:"open",messages:this.messages}).then((function(e){console.log("save chat")}));var e=document.querySelector(".chatbox"),t=$(".chatbox");e.scrollTop=e.scrollHeight,t.find("li").each((function(e){$(this).find("b").text()==s&&$(this).addClass("me"),$(this).addClass("visible")}))}))}))},created:function(){var e=this;i=this.$store.getters.getsocket,this.$http.get("/api/chat/load").then((function(s){e.messages=s.data.messages}))}},c=o,r=(t("45fc"),t("2877")),u=Object(r["a"])(c,a,n,!1,null,"98ec9fc2",null);s["default"]=u.exports},b1b0:function(e,s,t){}}]);
//# sourceMappingURL=chunk-76ec5ff2.87853a97.js.map